<div class="grid">
  <div class="col-12">
    <div class="card">
      <h5>Communicating with backend services using HTTP</h5>

      <button
        pButton
        type="button"
        label="Add Data"
        class="p-button-success mr-2"
        icon="pi pi-plus"
        (click)="addData()"
      ></button>

      <p-toast></p-toast>
      <ng-container *ngIf="items">
        <p-table
          [value]="items.data"
          [paginator]="true"
          [rows]="10"
          [responsive]="true"
          [loading]="isLoading"
          [showCurrentPageReport]="true"
          [rowsPerPageOptions]="[10, 25, 50]"
          responsiveLayout="scroll"
        >
          <ng-template pTemplate="header">
            <tr>
              <th>Id</th>
              <th width="80%">Provinsi</th>
              <th style="text-align: center">Action</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="loadingbody">
            <tr>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
            </tr>
            <tr>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
            </tr>
            <tr>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
            </tr>
            <tr>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
            </tr>
            <tr>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
              <td>
                <p-skeleton></p-skeleton>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-dt>
            <tr>
              <td>{{ dt?.id_provinsi }}</td>
              <td>{{ dt?.nama_provinsi }}</td>
              <td style="text-align: center">
                <a
                  routerLink="{{
                  'add/' + dt?.id_provinsi + '/' + dt?.nama_provinsi
                }}"
                >
                  <button
                    pButton
                    type="button"
                    label="Edit"
                    class="p-button-warning mr-2"
                    icon="pi pi-pencil"
                  ></button
                  >
                </a>
                <button
                  icon="pi pi-trash"
                  pButton
                  type="button"
                  label="Delete"
                  class="p-button-danger mr-2"
                  (click)="onDelete(dt?.id_provinsi, $event)"
                ></button>
                <p-confirmPopup
                  key="{{ 'confirm_' + dt?.id_provinsi }}"
                ></p-confirmPopup>
              </td>
            </tr>
          </ng-template>
        </p-table>
      </ng-container>
    </div>
  </div>
</div>
